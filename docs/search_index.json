[["anova.html", "11 ANOVA 11.1 ANOVA mehrere Gruppen", " 11 ANOVA ANOVA steht für analysis of variance und wird auch als univariate Varianzanalyse bezeichnet. ANOVA wird verwendet, um Mittelwertunterschiede zwischen 2 oder mehr Gruppen zu vergleichen. Dies geschieht, indem die Varianz in den Daten betrachtet wird (daher der Name). Insbesondere vergleicht ANOVA das Ausmaß der Variation zwischen den Gruppen (between variance) mit dem Ausmaß der Variation innerhalb der Gruppen (within variance). Wir hatten diese Logik der Varianzzerlegung schon bei Regressionsmodellen kennengelernt: Hier hatten wir die Gesamtvarianz in erklärte und unerklärte Varianz zerlegt. Diese Sum of Squares bezeichnet Stata Model und Residual: use &quot;https://github.com/filius23/Stata_Skript/raw/master/regression_bsp.dta&quot;, clear reg var2 var1 Source | SS df MS Number of obs = 4 -------------+---------------------------------- F(1, 2) = 11.07 Model | 12.4932432 1 12.4932432 Prob &gt; F = 0.0797 Residual | 2.25675676 2 1.12837838 R-squared = 0.8470 -------------+---------------------------------- Adj R-squared = 0.7705 Total | 14.75 3 4.91666667 Root MSE = 1.0623 ------------------------------------------------------------------------------ var2 | Coef. Std. Err. t P&gt;|t| [95% Conf. Interval] -------------+---------------------------------------------------------------- var1 | .5810811 .1746331 3.33 0.080 -.1703044 1.332467 _cons | 2.135135 .9485004 2.25 0.153 -1.945933 6.216203 ------------------------------------------------------------------------------ Diese Logik überträgt ANOVA auf kategoriale Variablen, indem hier die Varianz in eine Streuung zwischen (between) und innerhalb der (within) der Gruppen aufgeteilt wird: Aus diesen beiden Streuungen berechnen wir wieder Sum of squares, welche dann ins Verhältnis gesetzt werden, um den sog. F-Wertb zu berechnen: \\[F=\\frac{\\textbf{between}\\;\\texttt{Sum of Squares}}{\\textbf{within}\\;\\texttt{Sum of Squares}}\\] Wenn der durchschnittliche Unterschied zwischen den Gruppen ähnlich ist wie innerhalb der Gruppen, beträgt das F-Verhältnis etwa 1. Wenn der durchschnittliche Unterschied zwischen den Gruppen größer wird als der innerhalb der Gruppen, wird das F-Verhältnis größer als 1. Um einen P-Wert zu erhalten, kann er gegen die F-Verteilung einer Zufallsvariablen mit den mit dem Zähler und Nenner des Verhältnisses verbundenen Freiheitsgraden getestet werden (ähnlich wie beim F-Test oben). Der P-Wert ist die Wahrscheinlichkeit, dieses oder ein größeres F-Verhältnis zu erhalten. Größere F-Verhältnisse ergeben kleinere P-Werte. Mit oneway F518_SUF S1, tabulate bekommen wir bspw. die Varianzzerlegung der Einkommensangaben (F518_SUF) nach Geschlechtern (S1): oneway F518_SUF S1, tabulate variable F518_SUF not found r(111); | Summary of Wie hoch ist Ihr | monatlicher Bru Geschlecht | Mean Std. Dev. Freq. ------------+------------------------------------ mÃ¤nnlich | 4232.7354 3951.3236 8,495 weiblich | 2800.926 2852.9348 8,140 ------------+------------------------------------ Total | 3532.1085 3530.9279 16,635 Analysis of Variance Source SS df MS F Prob &gt; F ------------------------------------------------------------------------ Between groups 8.5219e+09 1 8.5219e+09 712.78 0.0000 Within groups 1.9886e+11 16633 11955853.8 ------------------------------------------------------------------------ Total 2.0738e+11 16634 12467451.9 Bartlett&#39;s test for equal variances: chi2(1) = 862.7132 Prob&gt;chi2 = 0.000 Die deskriptive Zusammenfassung oben liefert einige Deskriptionen: das arith. Mittel (Mean), die Standardabweichung (Std. Dev.) und die Stichprobengrößen (Freq.) für die abhängige Variable (Einkommen in unserem Beispiel) für jede Gruppe der unabhängigen Variable S1 (also Frauen und Männer) sowie wenn alle Gruppen kombiniert werden (Total). Die Stata-Ausgabe der einseitige ANOVA findet sich in der unteren Tabelle und zeigt an, ob wir einen statistisch signifikanten Unterschied zwischen unseren beiden Gruppenmittelwerten haben. Das Verhältnis von between und within wird unter F angegeben. Wir können sehen, dass das Signifikanzniveau Prob &gt; F deutlich unter 0,05 liegt. Das legt einen statistisch signifikanten Unterschied im mittleren Einkommen den beiden Gruppen nahe. Außerdem werden uns die Sum of Squares für die Unterschiede innerhalb und zwischen den Gruppen angezeigt. Wir sehen hier, dass die Varianz innerhalb der Gruppen die Gruppendifferenz deutlich übersteigt: die Sum of Squares zwischen den Gruppen sind mit 1.9886e+11 deutlich geringer als die Within-group SS 8.5219e+09. (8.5219e+09 steht für 8,521,900,000, also 4.883*10^9 ,1.9886e+11 entspricht 198,860,000,000). Wir können aus den Zahlen für die Sum of Squares auch die Varianzaufklärung durch die Variable S1 berechnen (between/Total): dis (8.5219e+09/ 2.0738e+11) variable F518_SUF not found r(111); .04109316 Durch Kenntnis der Varibale S1 können also 4.11% der gesamten Varianz (Unterschiede) des Einkommens erklärt werden. 11.0.1 ANOVA vs. t-Tests Der t-Test wird beim Vergleich zweier Gruppen verwendet, während die ANOVA für den Vergleich von mehr als 2 Gruppen verwendet wird. Wenn wir den p-Wert unter Verwendung der ANOVA für 2 Gruppen berechnen, erhalten wir die gleichen Ergebnisse wie beim t-Test - hier also einen signifikanten Gruppenunterschied: ttest F518_SUF, by(S1) unequ variable F518_SUF not found r(111); Two-sample t test with unequal variances ------------------------------------------------------------------------------ Group | Obs Mean Std. Err. Std. Dev. [95% Conf. Interval] ---------+-------------------------------------------------------------------- mÃ¤nnlich | 8,495 4232.735 42.87073 3951.324 4148.698 4316.772 weiblich | 8,140 2800.926 31.62129 2852.935 2738.94 2862.912 ---------+-------------------------------------------------------------------- combined | 16,635 3532.109 27.37647 3530.928 3478.448 3585.769 ---------+-------------------------------------------------------------------- diff | 1431.809 53.27106 1327.392 1536.227 ------------------------------------------------------------------------------ diff = mean(mÃ¤nnlich) - mean(weiblich) t = 26.8778 Ho: diff = 0 Satterthwaite&#39;s degrees of freedom = 15471.3 Ha: diff &lt; 0 Ha: diff != 0 Ha: diff &gt; 0 Pr(T &lt; t) = 1.0000 Pr(|T| &gt; |t|) = 0.0000 Pr(T &gt; t) = 0.0000 11.0.2 ANOVA vs. lineare Regression Die lineare Regression wird zur Analyse kontinuierlicher Beziehungen verwendet; die Regression ist jedoch im Wesentlichen die gleiche wie die ANOVA. Bei der ANOVA berechnen wir Mittelwerte und Abweichungen unserer Daten von den Mittelwerten. Bei der linearen Regression berechnen wir die beste Linie durch die Daten und berechnen die Abweichungen der Daten von dieser Linie. Stata gibt uns das F-Verhältnis bei Regressionsmodellen direkt mit aus. Zu beachten ist aber hier, dass wir für eine kategoriale unabhängige Variable i. voranstellen müssen: reg F518_SUF i.S1 variable F518_SUF not found r(111); Source | SS df MS Number of obs = 16,635 -------------+---------------------------------- F(1, 16633) = 712.78 Model | 8.5219e+09 1 8.5219e+09 Prob &gt; F = 0.0000 Residual | 1.9886e+11 16,633 11955853.8 R-squared = 0.0411 -------------+---------------------------------- Adj R-squared = 0.0410 Total | 2.0738e+11 16,634 12467451.9 Root MSE = 3457.7 ------------------------------------------------------------------------------ F518_SUF | Coef. Std. Err. t P&gt;|t| [95% Conf. Interval] -------------+---------------------------------------------------------------- S1 | weiblich | -1431.809 53.63 -26.70 0.000 -1536.93 -1326.689 _cons | 4232.735 37.51532 112.83 0.000 4159.201 4306.269 ------------------------------------------------------------------------------ die obere Tabelle entspricht dem Output von oneway: die Sum of Squares innerhalb von S1 betragen 1.9886e+11, zwischen S1 ist die Sum of Squares (8.5219e+09) Das Verhältnis der within und between Streuung beträgt F( 1, 16633) = 712.78 (siehe Spalte F in oneway) die Variable S1 kann 4,11% der Streuung der Einkommen erklären (R-squared = 0.0411), siehe unsere Berechnung oben die untere Tabelle entspricht dem ttest: Frauen verdienen im Mittel 1431.809 weniger als Männer und dieser Unterschied ist statistisch signifikant (vgl. diff bei ttest) Übungen 3 11.1 ANOVA mehrere Gruppen Der Vorteil von ANOVA ist aber, dass sich auch Gruppenunterschiede für Variablen mit mehr als zwei Ausprägungen untersuchen lassen, bspw. Schulbildungsniveaus: oneway F518_SUF m1202, tabulate variable F518_SUF not found r(111); HÃ¶chster | Summary of Wie hoch ist Ihr Ausbildungs | monatlicher Bru abschluss | Mean Std. Dev. Freq. ------------+------------------------------------ Ohne Ber | 2150.7608 2745.4126 899 duale o. | 2736.7646 2080.3431 7,723 Aufstieg | 3633.9973 3143.504 1,469 Fachhoch | 4643.9031 4599.5648 6,522 ------------+------------------------------------ Total | 3533.1033 3532.8102 16,613 Analysis of Variance Source SS df MS F Prob &gt; F ------------------------------------------------------------------------ Between groups 1.4678e+10 3 4.8926e+09 421.80 0.0000 Within groups 1.9265e+11 16609 11599279.8 ------------------------------------------------------------------------ Total 2.0733e+11 16612 12480748.1 Bartlett&#39;s test for equal variances: chi2(3) = 4.3e+03 Prob&gt;chi2 = 0.000 Wir erkennen: dass signifikante Gruppenunterschiede bestehen: Prob &gt; F ist deutlich &lt; 0,05 Kenntnis von m1202 kann dass Befragte mit einem Abschluss der Fachhochschule, Universität/ geh., höhere Beamte die höchsten Durchschnittseinkommen haben (Mean = 4643.9031), Befatgte ohne Berufsabschluss die niedrigsten (Mean = 2150.7608) usw. Auch hier der Vergleich zu Regressionsmodellen einer kategorialen UV: reg F518_SUF i.m1202 variable F518_SUF not found r(111); Source | SS df MS Number of obs = 16,613 -------------+---------------------------------- F(3, 16609) = 421.80 Model | 1.4678e+10 3 4.8926e+09 Prob &gt; F = 0.0000 Residual | 1.9265e+11 16,609 11599279.8 R-squared = 0.0708 -------------+---------------------------------- Adj R-squared = 0.0706 Total | 2.0733e+11 16,612 12480748.1 Root MSE = 3405.8 ------------------------------------------------------------------------------ F518_SUF | Coef. Std. Err. t P&gt;|t| [95% Conf. Interval] -------------+---------------------------------------------------------------- m1202 | duale o. | 586.0038 120.0181 4.88 0.000 350.7555 821.252 Aufstieg | 1483.236 144.2167 10.28 0.000 1200.556 1765.917 Fachhoch | 2493.142 121.1648 20.58 0.000 2255.646 2730.638 | _cons | 2150.761 113.5888 18.93 0.000 1928.115 2373.407 ------------------------------------------------------------------------------ \\(\\rightarrow\\) hier sind die Koeffizienten jeweils auf den Vergleich zu m1202=1 zu interpretieren: Befragte mit dualer o. schulischer Berufsausbildung/einf.,mittl. Beamte verdienen im Schnitt 586.0038 EUR mehr als Befragte ohne Abschluss (m1202 = 1). Der Unterschied ist statistisch signifikant (P&gt;|t| &lt; 0,05). Befragte mit Aufstiegsfortbildung verdienen im Schnitt 1483.236 EUR mehr als Befragte ohne Abschluss (m1202 = 1). Der Unterschied ist statistisch signifikant (P&gt;|t| &lt; 0,05). Befragte mit Abschluss einer Fachhochschule, Universität/ geh., höhere Beamte verdienen im Schnitt 2493.142 EUR mehr als Befragte ohne Abschluss (m1202 = 1). Der Unterschied ist statistisch signifikant (P&gt;|t| &lt; 0,05). "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
